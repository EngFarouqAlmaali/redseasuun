<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ูุธุงู ุฅุฏุงุฑุฉ ุงููุซุงุฆู - ุงูุทุงูุฉ ุงูุดูุณูุฉ v4.1</title>
    <link rel="icon" type="image/x-icon" href="assets/images/logo_icon.ico">
    <link rel="stylesheet" href="css/user.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="manifest" href="manifest.json">
    <link rel="stylesheet" href="css/user2.css">
    <!-- ูู ุจุฏุงูุฉ body ูู user_managment.html -->
<script src="js/model/security/authentication.js"></script>
<script>
// ูุญุต ุงููุตุงุฏูุฉ ูุจู ุชุญููู ุงูุตูุญุฉ
document.addEventListener('DOMContentLoaded', function() {
    if (!window.authManager || !window.authManager.getAuthStatus()) {
        // ุฅุฐุง ูู ููู ูุณุฌูุงู ุฏุฎููุ ุฅุนุงุฏุฉ ุงูุชูุฌูู ููุฑุงู
        window.location.href = 'user_managment_login2.html';
    } else {
        // ุฅุฎูุงุก ุงูุตูุญุฉ ุญุชู ุงูุชูุงู ุงูุชุญูู
        document.body.style.visibility = 'hidden';
        
        // ุชุฃููุฏ ุฅุถุงูู ูููุตุงุฏูุฉ
        setTimeout(() => {
            if (window.authManager.getAuthStatus()) {
                document.body.style.visibility = 'visible';
                console.log('๐ ุชู ุงูุชุญูู ูู ุงููููุฉ ุจูุฌุงุญ');
            } else {
                window.location.href = 'user_managment_login2.html';
            }
        }, 100);
    }
});

// ููุน ุงููุตูู ุนุจุฑ ุฒุฑ ุงูุฑุฌูุน
window.addEventListener('pageshow', function(event) {
    if (event.persisted || (window.performance && window.performance.navigation.type === 2)) {
        if (!window.authManager.getAuthStatus()) {
            window.location.href = 'user_managment_login2.html';
        }
    }
});
</script>
</head>
<body>
    <!-- ุฌุฑุณ ุงูุฅุดุนุงุฑุงุช -->
    <div class="notification-bell" id="notificationBell">
        <i class="fas fa-bell"></i>
        <span class="notification-count" id="notificationCount">0</span>
    </div>
    
    <div class="notification-panel" id="notificationPanel">
        <div class="notification-header" style="padding: 15px; border-bottom: 2px solid var(--border-color); display: flex; justify-content: space-between; align-items: center;">
            <h3 style="margin: 0;">ุงูุฅุดุนุงุฑุงุช</h3>
            <button onclick="markAllAsRead()" style="background: none; border: none; color: var(--text-accent); cursor: pointer;">ุชุนููู ุงููู ูููุฑูุก</button>
            <button onclick="deleteAllNotifications()" class="btn btn-danger" style="margin-left: 10px;">
                <i class="fas fa-trash"></i> ุญุฐู ุฌููุน ุงูุฅุดุนุงุฑุงุช
            </button>
        </div>
        <div id="notificationList">
            <!-- ุณูุชู ููุก ุงูุฅุดุนุงุฑุงุช ุฏููุงูููููุง -->
        </div>
    </div>
    <div id="connectionStatus" class="connection-status">
        <i class="fas fa-circle"></i> ุฌุงุฑู ุงูุงุชุตุงู...
    </div>

    <!-- ุงูุชุญูู ูู ุงููุธูุฑ -->
    <div class="theme-controls">
        <button class="theme-toggle" onclick="toggleTheme()">
            <i class="fas fa-sun" id="theme-icon"></i>
            <span id="theme-text">ุงููุถุน ุงูููุงุฑู</span>
        </button>
       
<button class="btn btn-logout" onclick="logout()" style="margin-right: 10px;">
    <i class="fas fa-sign-out-alt"></i> ุชุณุฌูู ุงูุฎุฑูุฌ
</button>
    </div>

    <!-- Loading Overlay -->
    <div id="loading" class="loading-overlay" style="display: none;">
        <div class="loading-spinner"></div>
        <div>ุฌุงุฑู ุงูุชุญููู...</div>
    </div>

    <div class="container">
        <!-- ูุนูููุงุช ุงููุธุงู -->
        <div class="system-info">
            <h1><i class="fas fa-solar-panel"></i> ูุธุงู ุฅุฏุงุฑุฉ ุงููุซุงุฆู ููุทุงูุฉ ุงูุดูุณูุฉ</h1>
            <p>ุงูุฅุตุฏุงุฑ 4.1 -    ูู ุชุทููุฑ ุงููููุฏุณ ูุงุฑูู</p>
        </div>

        <!-- ููุญุฉ ุงูุฅุญุตุงุฆูุงุช -->
        <div class="dashboard-grid">
            <div class="stat-card">
                <div class="stat-icon">
                    <i class="fas fa-users"></i>
                </div>
                <div class="stat-value" id="totalUsers">0</div>
                <div class="stat-label">ุฅุฌูุงูู ุงููุณุชุฎุฏููู</div>
            </div>
            
            <div class="stat-card">
                <div class="stat-icon">
                    <i class="fas fa-check-circle"></i>
                </div>
                <div class="stat-value" id="completedProjects">0</div>
                <div class="stat-label">ุงููุดุงุฑูุน ุงูููุชููุฉ</div>
            </div>
            
            <div class="stat-card">
                <div class="stat-icon">
                    <i class="fas fa-tasks"></i>
                </div>
                <div class="stat-value" id="inProgress">0</div>
                <div class="stat-label">ููุฏ ุงูุชูููุฐ</div>
            </div>
            
            <div class="stat-card">
                <div class="stat-icon">
                    <i class="fas fa-bolt"></i>
                </div>
                <div class="stat-value" id="totalEnergy">0</div>
                <div class="stat-label">ูููููุงุท/ุณุงุนุฉ ููุชุฌุฉ</div>
            </div>
        </div>

        <!-- ุฃูุณูุฉ ุงูุชููู -->
        <div class="nav-tabs">
            <div class="nav-tab active" data-tab="users">ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู</div>
            <div class="nav-tab" data-tab="reports">ุงูุชูุงุฑูุฑ</div>
            <div class="nav-tab" data-tab="calendar">ุงูููุงุนูุฏ</div>
            <div class="nav-tab" data-tab="tasks">ุงูููุงู</div>
            <div class="nav-tab" data-tab="analytics">ุงูุชุญูููุงุช</div>
        </div>

        <!-- ูุญุชูู ุงูุฃูุณูุฉ -->
        <div id="usersTab" class="tab-content active">
            <!-- ูุณู ุฅุถุงูุฉ ุงููุณุชุฎุฏููู -->
            <div class="add-user-section">
                <h2><i class="fas fa-user-plus"></i> ุฅุถุงูุฉ ูุณุชุฎุฏู ุฌุฏูุฏ</h2>
                <form id="userForm" onsubmit="return false;">
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="username"><i class="fas fa-user"></i> ุงูุงุณู ุงููุงูู:</label>
                            <input type="text" id="username" name="username" placeholder="ุฃุฏุฎู ุงูุงุณู ุงููุงูู" required>
                        </div>
                        
                        <div class="form-group" style="position:relative;">
                            <label for="password"><i class="fas fa-lock"></i> ูููุฉ ุงููุฑูุฑ:</label>
                            <input type="password" id="password" name="password" placeholder="ุฃุฏุฎู ูููุฉ ุงููุฑูุฑ (6 ุฃุญุฑู ุนูู ุงูุฃูู)" required style="padding-left:45px;">
                            <span id="togglePassword" style="position:absolute; top:45px; left:15px; cursor:pointer;">
                                <i class="fa fa-eye-slash"></i>
                            </span>
                        </div>
                        
                        <div class="form-group">
                            <label for="firstName"><i class="fas fa-id-card"></i>ุฑูู ุงููุทูู</label>
                            <input type="text" id="firstName" name="nationalId" placeholder="ุฃุฏุฎู ุงูุฑูู ุงููุทูู" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="address"><i class="fas fa-map-marker-alt"></i> ุงูุนููุงู:</label>
                            <input type="text" id="address" name="address" placeholder="ุฃุฏุฎู ุงูุนููุงู" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="coordX"><i class="fas fa-globe"></i> ุฅุญุฏุงุซู X:</label>
                            <input type="text" id="coordX" name="coordX" placeholder="ุฃุฏุฎู ุฅุญุฏุงุซู X (ุงุฎุชูุงุฑู)">
                        </div>
                        
                        <div class="form-group">
                            <label for="coordY"><i class="fas fa-globe"></i> ุฅุญุฏุงุซู Y:</label>
                            <input type="text" id="coordY" name="coordY" placeholder="ุฃุฏุฎู ุฅุญุฏุงุซู Y (ุงุฎุชูุงุฑู)">
                        </div>
                        
                        <div class="form-group">
                            <label for="systemSize"><i class="fas fa-solar-panel"></i> ุญุฌู ุงููุธุงู (ูููููุงุท):</label>
                            <input type="number" id="systemSize" name="systemSize" step="0.1" min="0" placeholder="ุฃุฏุฎู ุญุฌู ุงููุธุงู" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="systemPrice"><i class="fas fa-dollar-sign"></i> ุณุนุฑ ุงููุธุงู:</label>
                            <input type="number" id="systemPrice" name="systemPrice" step="0.01" min="0" placeholder="ุฃุฏุฎู ุงูุณุนุฑ" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="phoneNumber"><i class="fas fa-phone"></i> ุฑูู ุงููุงุชู:</label>
                            <input type="tel" id="phoneNumber" name="phoneNumber" placeholder="ุฃุฏุฎู ุฑูู ุงููุงุชู (07xxxxxxxx)" required>
                        </div>
                        
                        <!-- ูุณู ุฅุถุงูุฉ ุงููุณุชุฎุฏููู -->
                       <!-- ุชุบููุฑ ูู select ุฅูู input ูู ูุณู ุฅุถุงูุฉ ุงููุณุชุฎุฏู -->
<div class="form-group">
    <label for="paymentMethod"><i class="fas fa-credit-card"></i> ุทุฑููุฉ ุงูุฏูุน:</label>
    <input type="text" id="paymentMethod" name="paymentMethod" placeholder="ุฃุฏุฎู ุทุฑููุฉ ุงูุฏูุน" required>
</div>



                        <div class="form-group">
                            <label for="paymentDetails"><i class="fas fa-info-circle"></i> ุชูุงุตูู ุงูุฏูุน:</label>
                            <textarea id="paymentDetails" name="paymentDetails" rows="2" placeholder="ุฃุฏุฎู ุชูุงุตูู ุฅุถุงููุฉ ุนู ุงูุฏูุน (ุงุฎุชูุงุฑู)"></textarea>
                        </div>

                        <div class="form-group">
                            <label for="commissionNotes"><i class="fas fa-sticky-note"></i> ููุงุญุธุงุช ุงููููุถูุฉ:</label>
                            <textarea id="commissionNotes" name="commissionNotes" rows="2" placeholder="ุฃุฏุฎู ููุงุญุธุงุช ุงููููุถูุฉ"></textarea>
                        </div>

                        <div class="form-group">
                            <label for="companyNotes"><i class="fas fa-sticky-note"></i> ููุงุญุธุงุช ุดุฑูุฉ ุงูุทุงูุฉ ุงูุดูุณูุฉ:</label>
                            <textarea id="companyNotes" name="companyNotes" rows="2" placeholder="ุฃุฏุฎู ููุงุญุธุงุช ุงูุดุฑูุฉ"></textarea>
                        </div>
                        
                        <div class="form-group full-width">
                            <button type="button" id="addUserBtn" class="btn btn-success">
                                <i class="fas fa-plus"></i> ุฅุถุงูุฉ ูุณุชุฎุฏู
                            </button>
                        
                        </div>
                    </div>
                </form>
            </div>
            <!-- ูุณู ุงูุจุญุซ ูุงูุชุตููุฉ -->
            <div class="search-filter">
                <div class="search-box">
                    <i class="fas fa-search"></i>
                    <input type="text" id="searchInput" placeholder="๐ ุจุญุซ ูู ุงููุณุชุฎุฏููู (ุงูุงุณูุ ุงููููุฉุ ุงููุงุชู)...">
                </div>
                <div class="filter-select">
                    <select id="statusFilter">
                        <option value="all">ุฌููุน ุงูุญุงูุงุช</option>
                        <option value="complete">ุงูููุชูู ููุท</option>
                        <option value="incomplete">ููุฏ ุงูุฅูุฌุงุฒ ููุท</option>
                    </select>
                </div>
            </div>
            <div class="edit-section" id="editSection" style="display: none;">
                <h2><i class="fas fa-edit"></i> ุชุนุฏูู ุจูุงูุงุช ุงููุณุชุฎุฏู</h2>
                
                <form id="editForm">
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="editUsername">ุงูุงุณู ุงููุงูู:</label>
                            <input type="text" id="editUsername" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="editPassword">ูููุฉ ุงููุฑูุฑ ุงูุฌุฏูุฏุฉ (ุงุชุฑููุง ูุงุฑุบุฉ ูุนุฏู ุงูุชุบููุฑ):</label>
                            <input type="password" id="editPassword" placeholder="ูููุฉ ูุฑูุฑ ุฌุฏูุฏุฉ (ุงุฎุชูุงุฑู)">
                        </div>
                        
                        <div class="form-group">
                            <label for="editNationalId">ุฑูู ุงููููุฉ:</label>
                            <input type="text" id="editNationalId" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="editAddress">ุงูุนููุงู:</label>
                            <input type="text" id="editAddress" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="editCoordX">ุฅุญุฏุงุซู X:</label>
                            <input type="text" id="editCoordX">
                        </div>
                        
                        <div class="form-group">
                            <label for="editCoordY">ุฅุญุฏุงุซู Y:</label>
                            <input type="text" id="editCoordY">
                        </div>
                        
                        <div class="form-group">
                            <label for="editSystemSize">ุญุฌู ุงููุธุงู (ูููููุงุท):</label>
                            <input type="number" id="editSystemSize" step="0.1" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="editSystemPrice">ุณุนุฑ ุงููุธุงู:</label>
                            <input type="number" id="editSystemPrice" step="0.01" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="editPhoneNumber">ุฑูู ุงููุงุชู:</label>
                            <input type="tel" id="editPhoneNumber" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="editPaymentMethod">ุทุฑููุฉ ุงูุฏูุน:</label>
                            <input type="text" id="editPaymentMethod" placeholder="ุฃุฏุฎู ุทุฑููุฉ ุงูุฏูุน" required>
                        </div>

                        <div class="form-group">
                            <label for="editPaymentDetails">ุชูุงุตูู ุงูุฏูุน:</label>
                            <textarea id="editPaymentDetails" class="form-control"></textarea>
                        </div>

                        <div class="form-group">
                            <label for="editCommissionNotes">ููุงุญุธุงุช ุงููููุถูุฉ:</label>
                            <textarea id="editCommissionNotes" class="form-control"></textarea>
                        </div>

                        <div class="form-group">
                            <label for="editCompanyNotes">ููุงุญุธุงุช ุงูุดุฑูุฉ:</label>
                            <textarea id="editCompanyNotes" class="form-control"></textarea>
                        </div>
                        
                        <div class="form-group full-width">
                            <button type="button" class="btn btn-cancel" onclick="cancelEdit()">
                                <i class="fas fa-times"></i> ุฅูุบุงุก ุงูุชุนุฏูู
                            </button>
                            <button type="button" class="btn btn-primary" onclick="saveChanges()">
                                <i class="fas fa-save"></i> ุญูุธ ุงูุชุบููุฑุงุช
                            </button>
                        </div>
                    </div>
                </form>
            </div>

            <!-- ูุณู ุฅุญุตุงุฆูุงุช ุงูุชุนุฏููุงุช -->
            <div class="edit-stats" id="editStats" style="display: none;">
                <h3><i class="fas fa-chart-line"></i> ุฅุญุตุงุฆูุงุช ุงูุชุนุฏููุงุช</h3>
                <div class="stats-grid">
                    <div class="stat-item">
                        <span class="stat-label">ุงููุณุชุฎุฏููู ุงููุนุฏููู ุงูููู:</span>
                        <span class="stat-value" id="todayEdits">0</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">ุงููุณุชุฎุฏููู ุงููุนุฏููู ูุฐุง ุงูุฃุณุจูุน:</span>
                        <span class="stat-value" id="weekEdits">0</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">ุงููุณุชุฎุฏููู ุงููุนุฏููู ูุฐุง ุงูุดูุฑ:</span>
                        <span class="stat-value" id="monthEdits">0</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">ุขุฎุฑ ุชุนุฏูู:</span>
                        <span class="stat-value" id="lastEdit">-</span>
                    </div>
                </div>
                
                <div class="recent-edits">
                    <h4>ุขุฎุฑ ุงููุณุชุฎุฏููู ุงููุนุฏููู:</h4>
                    <div id="recentEditedUsers"></div>
                </div>
            </div>

            <!-- ุนุฑุถ ุงููุณุชุฎุฏููู -->
            <div id="usersContainer" class="users-grid">
                <div class="loading-placeholder">
                    <i class="fas fa-spinner fa-spin" style="font-size: 2rem; color: #ccc;"></i>
                    <p>ุฌุงุฑู ุชุญููู ุงููุณุชุฎุฏููู...</p>
                </div>
            </div>
        </div>

        <!-- ุชุจููุจ ุงูุชูุงุฑูุฑ -->
        <div id="reportsTab" class="tab-content">
            <div class="add-user-section">
                <h2><i class="fas fa-chart-bar"></i> ุงูุชูุงุฑูุฑ ูุงูุฅุญุตุงุฆูุงุช</h2>
                
                <div class="form-grid">
                    <div class="form-group">
                        <label for="reportType">ููุน ุงูุชูุฑูุฑ:</label>
                        <select id="reportType">
                            <option value="users">ุชูุฑูุฑ ุงููุณุชุฎุฏููู</option>
                            <option value="projects">ุชูุฑูุฑ ุงููุดุงุฑูุน</option>
                            <option value="energy">ุชูุฑูุฑ ุงูุทุงูุฉ ุงูููุชุฌุฉ</option>
                            <option value="financial">ุชูุฑูุฑ ูุงูู</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="dateFrom">ูู ุชุงุฑูุฎ:</label>
                        <input type="date" id="dateFrom">
                    </div>
                    
                    <div class="form-group">
                        <label for="dateTo">ุฅูู ุชุงุฑูุฎ:</label>
                        <input type="date" id="dateTo">
                    </div>
                    
                    <div class="form-group full-width">
                        <button type="button" class="btn btn-primary" onclick="generateReport()">
                            <i class="fas fa-file-pdf"></i> ุฅูุดุงุก ุงูุชูุฑูุฑ (PDF)
                        </button>
                        <button type="button" class="btn btn-success" onclick="exportToExcel()" style="margin-right: 10px;">
                            <i class="fas fa-file-excel"></i> ุชุตุฏูุฑ ุฅูู Excel
                        </button>
                        <button type="button" class="btn btn-info" onclick="showCharts()" style="margin-right: 10px;">
                            <i class="fas fa-chart-line"></i> ุนุฑุถ ุงูุฑุณูู ุงูุจูุงููุฉ
                        </button>
                    </div>
                </div>
                
                <div id="reportResult" style="margin-top: 30px;"></div>
            </div>
        </div>
        <!-- ุชุจููุจ ุงูุชูููู -->
        <div id="calendarTab" class="tab-content">
            <div class="add-user-section">
                <h2><i class="fas fa-calendar-alt"></i> ุชูููู ุงูููุงุนูุฏ</h2>
                
                <div class="calendar-container">
                    <div id="calendar"></div>
                </div>
                
                <div class="form-grid">
                    <div class="form-group">
                        <label for="eventTitle">ุนููุงู ุงูุญุฏุซ:</label>
                        <input type="text" id="eventTitle" placeholder="ุนููุงู ุงูุญุฏุซ">
                    </div>
                    
                    <div class="form-group">
                        <label for="eventDate">ุงูุชุงุฑูุฎ:</label>
                        <input type="date" id="eventDate">
                    </div>
                    
                    <div class="form-group">
                        <label for="eventTime">ุงูููุช:</label>
                        <input type="time" id="eventTime">
                    </div>
                    
                    <div class="form-group">
                        <label for="eventUser">ุงููุณุชุฎุฏู:</label>
                        <select id="eventUser">
                            <option value="">ุงุฎุชุฑ ูุณุชุฎุฏู</option>
                            <!-- ุณูุชู ููุก ุงููุณุชุฎุฏููู ุฏููุงูููููุง -->
                        </select>
                    </div>
                    
                    <div class="form-group full-width">
                        
                    </div>
                </div>
            </div>
        </div>
        <!-- ุชุจููุจ ุงูููุงู -->
        <div id="tasksTab" class="tab-content">
            <div class="add-user-section">
                <h2><i class="fas fa-tasks"></i> ุฅุฏุงุฑุฉ ุงูููุงู</h2>
                
                <div class="form-grid">
                    <div class="form-group">
                        <label for="taskTitle">ุนููุงู ุงููููุฉ:</label>
                        <input type="text" id="taskTitle" placeholder="ุนููุงู ุงููููุฉ">
                    </div>
                    
                    <div class="form-group">
                        <label for="taskDescription">ูุตู ุงููููุฉ:</label>
                        <textarea id="taskDescription" rows="3" placeholder="ูุตู ุงููููุฉ"></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label for="taskPriority">ุงูุฃููููุฉ:</label>
                        <select id="taskPriority">
                            <option value="low">ููุฎูุถุฉ</option>
                            <option value="medium">ูุชูุณุทุฉ</option>
                            <option value="high">ุนุงููุฉ</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="taskDueDate">ุชุงุฑูุฎ ุงูุงุณุชุญูุงู:</label>
                        <input type="date" id="taskDueDate">
                    </div>
                    
                    <div class="form-group">
                        <label for="taskAssignedTo">ุชุนููู ุฅูู:</label>
                        <select id="taskAssignedTo">
                            <option value="">ุงุฎุชุฑ ูุณุชุฎุฏู</option>
                            <!-- ุณูุชู ููุก ุงููุณุชุฎุฏููู ุฏููุงูููููุง -->
                        </select>
                    </div>
                    
                    <div class="form-group full-width">
                        <button type="button" class="btn btn-primary" onclick="addTask()">
                            <i class="fas fa-plus"></i> ุฅุถุงูุฉ ูููุฉ
                        </button>
                    </div>
                </div>
                
                <div id="tasksList" style="margin-top: 30px;"></div>
            </div>
        </div>

        <!-- ุชุจููุจ ุงูุชุญูููุงุช -->
        <div id="analyticsTab" class="tab-content">
            <div class="add-user-section">
                <h2><i class="fas fa-analytics"></i> ุงูุชุญูููุงุช ูุงูุฅุญุตุงุฆูุงุช</h2>
                
                <div class="dashboard-grid">
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-chart-pie"></i>
                        </div>
                        <div class="stat-value" id="completionRate">0%</div>
                        <div class="stat-label">ูุนุฏู ุงูุฅูุฌุงุฒ</div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-money-bill-wave"></i>
                        </div>
                        <div class="stat-value" id="totalRevenue">0</div>
                        <div class="stat-label">ุฅุฌูุงูู ุงูุฅูุฑุงุฏุงุช</div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-clock"></i>
                        </div>
                        <div class="stat-value" id="avgCompletion">0</div>
                        <div class="stat-label">ูุชูุณุท ููุช ุงูุฅูุฌุงุฒ (ุฃูุงู)</div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-map-marker-alt"></i>
                        </div>
                        <div class="stat-value" id="topLocation">-</div>
                        <div class="stat-label">ุฃูุซุฑ ููุทูุฉ ุชุฑููุจ</div>
                    </div>
                </div>
                
                <div class="form-grid">
                    <div class="form-group full-width">
                        <div id="analyticsCharts" style="width: 100%; height: 400px; margin-top: 30px;">
                            <!-- ุณูุชู ุนุฑุถ ุงูุฑุณูู ุงูุจูุงููุฉ ููุง -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ุฅุถุงูุฉ ูุนูููุงุช ุงููุธุงู ูู ุงูุฃุณูู -->
    <footer style="text-align: center; padding: 2rem; color: #666; border-top: 1px solid #eee; margin-top: 3rem;">
        <p><i class="fas fa-database"></i> ูุธุงู ุฅุฏุงุฑุฉ ุงููุซุงุฆู ููุทุงูุฉ ุงูุดูุณูุฉ - ุงูุฅุตุฏุงุฑ 4.1</p>
        <p><i class="fas fa-server"></i> ูุชุตู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช Firebase
        <div id="systemStats" style="margin-top: 10px; font-size: 0.9em;"></div>
        <div style="margin-top: 15px;">
        <button class="btn btn-warning" onclick="createFullBackup()" style="margin-right: 10px;">
    <i class="fas fa-file-pdf"></i> ูุณุฎุฉ ุงุญุชูุงุทูุฉ ุดุงููุฉ
</button>
            <button class="btn btn-info" onclick="showSystemInfo()" style="margin-right: 10px;">
                <i class="fas fa-info-circle"></i> ูุนูููุงุช ุงููุธุงู
            </button>
        </div>
    </footer>
    
<!-- ุฅุถุงูุฉ ููุชุจุงุช PDF -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.2.7/pdfmake.min.js" defer></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.2.7/vfs_fonts.js" defer></script>
    <!-- JavaScript Files -->
    <script src="https://cdn.jsdelivr.net/npm/xlsx/dist/xlsx.full.min.js" defer></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js" defer></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js" defer></script>
    <script src="js/users-management.js" defer></script>
    <script src="js/utils-helpers.js" defer></script>
    <script src="js/ascii.js" defer></script>
    <script src="js/close.js" defer></script>
    <script src="js/model/backup-manager.js"></script>
    <script src="js/model/secuirty/authentication.js"></script>
    <script src="db/database.js" defer></script>
    <script src="js/model/secuirty/logoutfunction.js"></script>
    <script src="js/model/appointments.js"></script>
    <script src="js/error-fix.js"></script>
</body>
</html>